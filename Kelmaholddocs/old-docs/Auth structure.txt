┌───────────────────────────────────────────────────────────────────────────┐
│                         FRONTEND AUTHENTICATION FLOW                       │
└───────────────────────────────────────────────────────────────────────────┘
┌─────────────────┐     ┌─────────────────┐      ┌────────────────────────┐
│  UI Components  │     │  Auth Context   │      │ Redux Store (authSlice)│
│  Login.jsx      │────▶│  AuthContext.jsx│◀────▶│ Manages auth state     │
│  Register.jsx   │     │  useAuth() hook │      │ Handles async actions  │
└─────────────────┘     └─────────────────┘      └────────────────────────┘
         │                       │                          │
         └───────────────────────┼──────────────────────────┘
                                 ▼
                       ┌──────────────────────┐
┌────────────────────▶│   API Service Layer   │
│                     │ /src/api/authService.js│
│                     └──────────────────────┘
│                                │
│                                ▼
│                    ┌────────────────────────┐
│   ┌───────────────│  Axios Interceptors     │
│   │               │  /src/api/axios.js      │
│   │               └────────────────────────┘
│   │                          │
│   │                          ▼
┌──────────────────┐  ┌────────────────────────┐  ┌────────────────────┐
│ Token Management │◀─│ Business Logic Layer   │─▶│ Route Protection   │
│ LocalStorage     │  │ /src/services/         │  │ PrivateRoute.jsx   │
└──────────────────┘  └────────────────────────┘  └────────────────────┘

┌───────────────────────────────────────────────────────────────────────────┐
│                         BACKEND AUTHENTICATION FLOW                        │
└───────────────────────────────────────────────────────────────────────────┘
┌──────────────────┐   ┌────────────────────┐    ┌──────────────────────────┐
│  Auth Routes     │   │ Auth Controllers   │    │ Auth Models              │
│  auth.routes.js  │──▶│ auth.controller.js │───▶│ User, RefreshToken       │
└──────────────────┘   └────────────────────┘    └──────────────────────────┘
         │                       │                         │
         │                       ▼                         │
         │             ┌────────────────────┐              │
         │             │ JWT Utilities      │              │
         │             │ jwt.js             │              │
         │             └────────────────────┘              │
         │                       │                         │
         ▼                       ▼                         ▼
┌─────────────────────────────────────────────────────────────────────────┐
│ Auth Middleware (auth.middleware.js) - Protects API endpoints           │
└─────────────────────────────────────────────────────────────────────────┘



┌─────────────────────────────────── AUTHENTICATION FLOW ────────────────────────────────────┐
│                                                                                            │
│                                      FRONTEND                                              │
│   ┌──────────────────────────────────────────────────────────────────────────────────┐    │
│   │                                                                                  │    │
│   │  ┌─────────────────┐     ┌────────────────────┐     ┌───────────────────────┐   │    │
│   │  │   UI Components │     │   Auth Context     │     │   Redux Auth Slice    │   │    │
│   │  │                 │     │                    │     │                       │   │    │
│   │  │ - Login.jsx     │────▶│ - AuthContext.jsx  │◀───▶│ - authSlice.js       │   │    │
│   │  │ - Register.jsx  │     │ - useAuth() hook   │     │ - Auth state & actions│   │    │
│   │  └─────────────────┘     └────────────────────┘     └───────────────────────┘   │    │
│   │           │                        │                          │                  │    │
│   │           └────────────────────────┼──────────────────────────┘                  │    │
│   │                                    ▼                                             │    │
│   │                         ┌──────────────────────┐                                 │    │
│   │                         │   Route Protection   │                                 │    │
│   │                         │                      │                                 │    │
│   │                         │ - ProtectedRoute.jsx │                                 │    │
│   │                         │ - AuthWrapper.jsx    │                                 │    │
│   │                         └──────────────────────┘                                 │    │
│   │                                    │                                             │    │
│   │                                    ▼                                             │    │
│   │                         ┌──────────────────────┐                                 │    │
│   │                         │   API Service Layer  │                                 │    │
│   │     ┌──────────────────│                      │──────────────────┐              │    │
│   │     │                   │ - /api/authService.js│                  │              │    │
│   │     │                   └──────────────────────┘                  │              │    │
│   │     │                                                             │              │    │
│   │     ▼                                                             ▼              │    │
│   │ ┌────────────────────────┐                               ┌─────────────────────┐ │    │
│   │ │   Axios Interceptors   │                               │ Business Logic Layer│ │    │
│   │ │                        │                               │                     │ │    │
│   │ │ - /api/axios.js        │                               │ - /services/        │ │    │
│   │ │ - Token refresh        │                               │   authService.js    │ │    │
│   │ │ - Error handling       │                               │ - Local storage     │ │    │
│   │ └────────────────────────┘                               └─────────────────────┘ │    │
│   │                                                                                  │    │
│   │                           ┌──────────────────────────┐                           │    │
│   │                           │  Security & Encryption   │                           │    │
│   │                           │                          │                           │    │
│   │                           │ - SecurityProvider.jsx   │                           │    │
│   │                           │ - Secure storage         │                           │    │
│   │                           │ - XSS/CSRF protection    │                           │    │
│   │                           └──────────────────────────┘                           │    │
│   └──────────────────────────────────────────────────────────────────────────────────┘    │
│                                            │                                              │
│                                            ▼                                              │
│                                     BACKEND (Node.js)                                     │
│   ┌──────────────────────────────────────────────────────────────────────────────────┐    │
│   │                                 Auth Service                                      │    │
│   │                                                                                  │    │
│   │  ┌─────────────────┐     ┌────────────────────┐      ┌────────────────────────┐ │    │
│   │  │   Auth Routes   │     │   Auth Controller  │      │   Authentication Models │ │    │
│   │  │                 │     │                    │      │                         │ │    │
│   │  │ - auth.routes.js│────▶│ - auth.controller.js│────▶│ - User model            │ │    │
│   │  │                 │     │ - Login/Register   │      │ - RefreshToken model    │ │    │
│   │  └─────────────────┘     │ - Verify Email     │      └────────────────────────┘ │    │
│   │                          │ - Password Reset   │                 ▲                │    │
│   │                          │ - Token Refresh    │                 │                │    │
│   │                          └────────────────────┘                 │                │    │
│   │                                   │                             │                │    │
│   │                                   ▼                             │                │    │
│   │  ┌─────────────────┐     ┌────────────────────┐                │                │    │
│   │  │ Auth Middleware │     │  JWT Utilities     │                │                │    │
│   │  │                 │     │                    │                │                │    │
│   │  │ - authenticate  │◀───▶│ - jwt.js           │────────────────┘                │    │
│   │  │ - authorize     │     │ - Token generation │                                 │    │
│   │  │ - verifyActive  │     │ - Token validation │                                 │    │
│   │  └─────────────────┘     └────────────────────┘                                 │    │
│   │                                   │                                             │    │
│   │                                   ▼                                             │    │
│   │                          ┌────────────────────┐                                 │    │
│   │                          │  Email Services    │                                 │    │
│   │                          │                    │                                 │    │
│   │                          │ - email.service.js │                                 │    │
│   │                          │ - Verification     │                                 │    │
│   │                          │ - Password reset   │                                 │    │
│   │                          └────────────────────┘                                 │    │
│   │                                                                                  │    │
│   └──────────────────────────────────────────────────────────────────────────────────┘    │
│                                                                                            │
└────────────────────────────────────────────────────────────────────────────────────────────┘   


